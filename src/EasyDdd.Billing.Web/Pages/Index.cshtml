@page
@model IndexModel
@{
    ViewData["Title"] = "Tms Statements";
}

<div>
	<h1 class="display-4">Statements</h1>
	
	<div class="mt-3">
		<ul class="nav nav-tabs" id="shipmentListTabs" role="tablist">
			<li class="nav-item">
				<a class="nav-link active" id="pending-tab" data-toggle="tab" href="#pending" role="tab" aria-controls="home" aria-selected="true">Pending</a>
			</li>
			<li class="nav-item">
				<a class="nav-link" id="processed-tab" data-toggle="tab" href="#processed" role="tab" aria-controls="profile" aria-selected="false">Processed</a>
			</li>
		</ul>
		
		<div class="tab-content" id="statementLists">
			<div class="tab-pane fade show active"
				id="pending"
				role="tabpanel"
				aria-labelledby="pending-tab">
				
				<table class="table table-responsive">
					<thead>
					<tr>
						<th>Statement Number</th>
						<th>Billing Period</th>
						<th>Bill-To Account</th>
						<th>Bill-To Location</th>
						<th>Created At</th>
					</tr>
					</thead>
					<tbody>
						@foreach (var statement in Model.PendingStatements)
						{
							<tr>
								<td><a asp-page="/StatementSpotlight" asp-route-id="@statement.Id">@statement.Id</a></td>
								<td>@($"{statement.BillingPeriod.Start:MM/dd/yyyy} - {statement.BillingPeriod.End:MM/dd/yyyy}")</td>
								<td>@statement.BillToAccount</td>
								<td>@statement.BillToLocation</td>
								<td>@statement.CreatedAt.ToString("MM/dd/yyyy")</td>
							</tr>
						}
					</tbody>
				</table>
			</div>
			
			<div class="tab-pane fade"
				id="processed"
				role="tabpanel"
				aria-labelledby="processed-tab">
				
				<table class="table table-responsive">
					<thead>
					<tr>
						<th>Statement Number</th>
						<th>Billing Period</th>
						<th>Bill-To Account</th>
						<th>Bill-To Location</th>
						<th>Processed At</th>
					</tr>
					</thead>
					<tbody>
					@foreach (var statement in Model.ProcessedStatements)
					{
						<tr>
							<td><a asp-page="/StatementSpotlight" asp-route-id="@statement.Id">@statement.Id</a></td>
							<td>@($"{statement.BillingPeriod.Start:MM/dd/yyyy} - {statement.BillingPeriod.End:MM/dd/yyyy}")</td>
							<td>@statement.BillToAccount</td>
							<td>@statement.BillToLocation</td>
							<td>@statement.ProcessedAt.ToString("MM/dd/yyyy")</td>
						</tr>
					}
					</tbody>
				</table>
			</div>
		</div>
	</div>
</div>